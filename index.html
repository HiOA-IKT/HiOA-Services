<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Services</title>
		<script src="/socket.io/socket.io.js"></script>
		<!--<script src="http://code.jquery.com/jquery-1.11.3.js"></script>-->
		<script src="jquery.min.js"></script>
		<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="services.css">
		<script>
			var socket = io();
			socket.on('err-add', function(cat, msg, urls){
				var error_element = "<li>";
				error_element+="	<div class=\"error panel panel-danger\">";
				error_element+="		<div class=\"panel-heading\">";
				error_element+="			<h5 class=\"panel-title\">";
				error_element+=msg;
				error_element+="		<span class=\"label label-danger\">Error</span>";
				error_element+="		</h5>";
				error_element+="	</div>";
				error_element+="	<div id=\""+msg.split(" ").join("-")+"-urls\" class=\"urls panel-body\">";
				error_element+=urls;
				error_element+="	</div>";
				error_element+="</li>";
				$("#"+cat).find(".errors").append(error_element);
				$("#"+cat).find(".label").attr('class', "label label-danger");
				$("#"+cat).find(".label").text("Error");
				setRules();
			});
			socket.on('err-update', function(cat, msg, urls){
				$("#"+msg.split(" ").join("-")+"-urls").html(urls);
			});
			socket.on('err-rm', function(cat, msg){
				$("#"+msg.split(" ").join("-")+"-urls").parent().parent().remove();
				$("ul").not(':has(li)').parents(".panel-body").siblings(".panel-heading").children(".panel-title").children(".label").attr('class', "label label-success");
				$("ul").not(':has(li)').parents(".panel-body").siblings(".panel-heading").children(".panel-title").children(".label").text("OK");
				$("#"+cat).not(":has(.label-danger)").attr("class", "panel panel-success");
			});
		</script>
		<script src="services.js"></script>
	</head>
	<body onload="setRules()">
		<div id="services">
			<div id="Login" class="panel panel-success">
				<div class="panel-heading">
					<h5 class="panel-title">
					Login Services<span class="label label-success">OK</span>
					</h5>
				</div>
				<div class="panel-body">
					<ul class="errors">
					</ul>
				</div>
			</div>
			<div id="Courses" class="panel panel-success">
				<div class="panel-heading">
					<h5 class="panel-title">
					Courses<span class="label label-success">OK</span>
					</h5>
				</div>
				<div class="panel-body">
					<ul class="errors">
					</ul>
				</div>
			</div>
			<div id="Information" class="panel panel-success">
				<div class="panel-heading">
					<h5 class="panel-title">
					Information<span class="label label-success">OK</span>
					</h5>
				</div>
				<div class="panel-body">
					<ul class="errors">
					</ul>
				</div>
			</div>
			<div id="Solr" class="panel panel-success">
				<div class="panel-heading">
					<h5 class="panel-title">
					Solr<span class="label label-success">OK</span>
					</h5>
				</div>
				<div class="panel-body">
					<ul class="errors">
					</ul>
				</div>
			</div>
			<div id="Profiles" class="panel panel-success">
				<div class="panel-heading">
					<h5 class="panel-title">
					User Profiles<span class="label label-success">OK</span>
					</h5>
				</div>
				<div class="panel-body">
					<ul class="errors">
					</ul>
				</div>
			</div>
		</div>
		<script src="bootstrap/js/bootstrap.min.js"></script>
	</body>
</html>
